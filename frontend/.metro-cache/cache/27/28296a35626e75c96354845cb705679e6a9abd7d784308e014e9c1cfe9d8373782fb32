{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@/src/services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":41,"index":131}}],"key":"+0qJ8qEBmOacmbB2+tf55w8DGQI=","exportNames":["*"],"imports":1}},{"name":"./AuthContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":132},"end":{"line":3,"column":40,"index":172}}],"key":"YmpzODa+dVz64UAAYTI+RwJeEt0=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/contexts/GroupContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.GroupProvider = GroupProvider;\n  exports.useGroups = useGroups;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _srcServicesApi = require(_dependencyMap[1], \"@/src/services/api\");\n  var _AuthContext = require(_dependencyMap[2], \"./AuthContext\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const GroupContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function GroupProvider({\n    children\n  }) {\n    const {\n      user,\n      token\n    } = (0, _AuthContext.useAuth)();\n    const [groups, setGroups] = (0, _react.useState)([]);\n    const [selectedGroup, setSelectedGroup] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(false);\n    (0, _react.useEffect)(() => {\n      if (token && user) {\n        fetchGroups();\n      } else {\n        setGroups([]);\n        setSelectedGroup(null);\n      }\n    }, [token, user]);\n    const fetchGroups = async () => {\n      setIsLoading(true);\n      try {\n        const data = await _srcServicesApi.api.getGroups();\n        setGroups(data);\n\n        // Auto-select personal group if no selection\n        if (!selectedGroup && data.length > 0) {\n          const personal = data.find(g => g.type === 'personal');\n          setSelectedGroup(personal || data[0]);\n        }\n      } catch (error) {\n        console.error('Error fetching groups:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const selectGroup = group => {\n      setSelectedGroup(group);\n    };\n    const createGroup = async (name, mode = 'split') => {\n      const newGroup = await _srcServicesApi.api.createGroup(name, 'shared', mode);\n      await fetchGroups();\n      return newGroup;\n    };\n    const joinGroup = async inviteCode => {\n      const joinedGroup = await _srcServicesApi.api.joinGroup(inviteCode);\n      await fetchGroups();\n      return joinedGroup;\n    };\n    const leaveGroup = async groupId => {\n      await _srcServicesApi.api.leaveGroup(groupId);\n      if (selectedGroup?.id === groupId) {\n        const personal = groups.find(g => g.type === 'personal');\n        setSelectedGroup(personal || null);\n      }\n      await fetchGroups();\n    };\n    const deleteGroup = async groupId => {\n      await _srcServicesApi.api.deleteGroup(groupId);\n      if (selectedGroup?.id === groupId) {\n        const personal = groups.find(g => g.type === 'personal');\n        setSelectedGroup(personal || null);\n      }\n      await fetchGroups();\n    };\n    const getPersonalGroup = () => {\n      return groups.find(g => g.type === 'personal') || null;\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(GroupContext.Provider, {\n      value: {\n        groups,\n        selectedGroup,\n        isLoading,\n        fetchGroups,\n        selectGroup,\n        createGroup,\n        joinGroup,\n        leaveGroup,\n        deleteGroup,\n        getPersonalGroup\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 5\n    }, this);\n  }\n  function useGroups() {\n    const context = (0, _react.useContext)(GroupContext);\n    if (context === undefined) {\n      throw new Error('useGroups must be used within a GroupProvider');\n    }\n    return context;\n  }\n});","lineCount":109,"map":[[8,2,36,0,"exports"],[8,9,36,0],[8,10,36,0,"GroupProvider"],[8,23,36,0],[8,26,36,0,"GroupProvider"],[8,39,36,0],[9,2,125,0,"exports"],[9,9,125,0],[9,10,125,0,"useGroups"],[9,19,125,0],[9,22,125,0,"useGroups"],[9,31,125,0],[10,2,1,0],[10,6,1,0,"_react"],[10,12,1,0],[10,15,1,0,"require"],[10,22,1,0],[10,23,1,0,"_dependencyMap"],[10,37,1,0],[11,2,2,0],[11,6,2,0,"_srcServicesApi"],[11,21,2,0],[11,24,2,0,"require"],[11,31,2,0],[11,32,2,0,"_dependencyMap"],[11,46,2,0],[12,2,3,0],[12,6,3,0,"_AuthContext"],[12,18,3,0],[12,21,3,0,"require"],[12,28,3,0],[12,29,3,0,"_dependencyMap"],[12,43,3,0],[13,2,3,40],[13,6,3,40,"_reactJsxDevRuntime"],[13,25,3,40],[13,28,3,40,"require"],[13,35,3,40],[13,36,3,40,"_dependencyMap"],[13,50,3,40],[14,2,34,0],[14,8,34,6,"GroupContext"],[14,20,34,18],[14,36,34,21],[14,40,34,21,"createContext"],[14,46,34,34],[14,47,34,34,"createContext"],[14,60,34,34],[14,62,34,65,"undefined"],[14,71,34,74],[14,72,34,75],[15,2,36,7],[15,11,36,16,"GroupProvider"],[15,24,36,29,"GroupProvider"],[15,25,36,30],[16,4,36,32,"children"],[17,2,36,66],[17,3,36,67],[17,5,36,69],[18,4,37,2],[18,10,37,8],[19,6,37,10,"user"],[19,10,37,14],[20,6,37,16,"token"],[21,4,37,22],[21,5,37,23],[21,8,37,26],[21,12,37,26,"useAuth"],[21,24,37,33],[21,25,37,33,"useAuth"],[21,32,37,33],[21,34,37,34],[21,35,37,35],[22,4,38,2],[22,10,38,8],[22,11,38,9,"groups"],[22,17,38,15],[22,19,38,17,"setGroups"],[22,28,38,26],[22,29,38,27],[22,32,38,30],[22,36,38,30,"useState"],[22,42,38,38],[22,43,38,38,"useState"],[22,51,38,38],[22,53,38,48],[22,55,38,50],[22,56,38,51],[23,4,39,2],[23,10,39,8],[23,11,39,9,"selectedGroup"],[23,24,39,22],[23,26,39,24,"setSelectedGroup"],[23,42,39,40],[23,43,39,41],[23,46,39,44],[23,50,39,44,"useState"],[23,56,39,52],[23,57,39,52,"useState"],[23,65,39,52],[23,67,39,67],[23,71,39,71],[23,72,39,72],[24,4,40,2],[24,10,40,8],[24,11,40,9,"isLoading"],[24,20,40,18],[24,22,40,20,"setIsLoading"],[24,34,40,32],[24,35,40,33],[24,38,40,36],[24,42,40,36,"useState"],[24,48,40,44],[24,49,40,44,"useState"],[24,57,40,44],[24,59,40,45],[24,64,40,50],[24,65,40,51],[25,4,42,2],[25,8,42,2,"useEffect"],[25,14,42,11],[25,15,42,11,"useEffect"],[25,24,42,11],[25,26,42,12],[25,32,42,18],[26,6,43,4],[26,10,43,8,"token"],[26,15,43,13],[26,19,43,17,"user"],[26,23,43,21],[26,25,43,23],[27,8,44,6,"fetchGroups"],[27,19,44,17],[27,20,44,18],[27,21,44,19],[28,6,45,4],[28,7,45,5],[28,13,45,11],[29,8,46,6,"setGroups"],[29,17,46,15],[29,18,46,16],[29,20,46,18],[29,21,46,19],[30,8,47,6,"setSelectedGroup"],[30,24,47,22],[30,25,47,23],[30,29,47,27],[30,30,47,28],[31,6,48,4],[32,4,49,2],[32,5,49,3],[32,7,49,5],[32,8,49,6,"token"],[32,13,49,11],[32,15,49,13,"user"],[32,19,49,17],[32,20,49,18],[32,21,49,19],[33,4,51,2],[33,10,51,8,"fetchGroups"],[33,21,51,19],[33,24,51,22],[33,30,51,22,"fetchGroups"],[33,31,51,22],[33,36,51,34],[34,6,52,4,"setIsLoading"],[34,18,52,16],[34,19,52,17],[34,23,52,21],[34,24,52,22],[35,6,53,4],[35,10,53,8],[36,8,54,6],[36,14,54,12,"data"],[36,18,54,16],[36,21,54,19],[36,27,54,25,"api"],[36,42,54,28],[36,43,54,28,"api"],[36,46,54,28],[36,47,54,29,"getGroups"],[36,56,54,38],[36,57,54,39],[36,58,54,40],[37,8,55,6,"setGroups"],[37,17,55,15],[37,18,55,16,"data"],[37,22,55,20],[37,23,55,21],[39,8,57,6],[40,8,58,6],[40,12,58,10],[40,13,58,11,"selectedGroup"],[40,26,58,24],[40,30,58,28,"data"],[40,34,58,32],[40,35,58,33,"length"],[40,41,58,39],[40,44,58,42],[40,45,58,43],[40,47,58,45],[41,10,59,8],[41,16,59,14,"personal"],[41,24,59,22],[41,27,59,25,"data"],[41,31,59,29],[41,32,59,30,"find"],[41,36,59,34],[41,37,59,36,"g"],[41,38,59,44],[41,42,59,49,"g"],[41,43,59,50],[41,44,59,51,"type"],[41,48,59,55],[41,53,59,60],[41,63,59,70],[41,64,59,71],[42,10,60,8,"setSelectedGroup"],[42,26,60,24],[42,27,60,25,"personal"],[42,35,60,33],[42,39,60,37,"data"],[42,43,60,41],[42,44,60,42],[42,45,60,43],[42,46,60,44],[42,47,60,45],[43,8,61,6],[44,6,62,4],[44,7,62,5],[44,8,62,6],[44,15,62,13,"error"],[44,20,62,18],[44,22,62,20],[45,8,63,6,"console"],[45,15,63,13],[45,16,63,14,"error"],[45,21,63,19],[45,22,63,20],[45,46,63,44],[45,48,63,46,"error"],[45,53,63,51],[45,54,63,52],[46,6,64,4],[46,7,64,5],[46,16,64,14],[47,8,65,6,"setIsLoading"],[47,20,65,18],[47,21,65,19],[47,26,65,24],[47,27,65,25],[48,6,66,4],[49,4,67,2],[49,5,67,3],[50,4,69,2],[50,10,69,8,"selectGroup"],[50,21,69,19],[50,24,69,23,"group"],[50,29,69,42],[50,33,69,47],[51,6,70,4,"setSelectedGroup"],[51,22,70,20],[51,23,70,21,"group"],[51,28,70,26],[51,29,70,27],[52,4,71,2],[52,5,71,3],[53,4,73,2],[53,10,73,8,"createGroup"],[53,21,73,19],[53,24,73,22],[53,30,73,22,"createGroup"],[53,31,73,29,"name"],[53,35,73,41],[53,37,73,43,"mode"],[53,41,73,73],[53,44,73,76],[53,51,73,83],[53,56,73,104],[54,6,74,4],[54,12,74,10,"newGroup"],[54,20,74,18],[54,23,74,21],[54,29,74,27,"api"],[54,44,74,30],[54,45,74,30,"api"],[54,48,74,30],[54,49,74,31,"createGroup"],[54,60,74,42],[54,61,74,43,"name"],[54,65,74,47],[54,67,74,49],[54,75,74,57],[54,77,74,59,"mode"],[54,81,74,63],[54,82,74,64],[55,6,75,4],[55,12,75,10,"fetchGroups"],[55,23,75,21],[55,24,75,22],[55,25,75,23],[56,6,76,4],[56,13,76,11,"newGroup"],[56,21,76,19],[57,4,77,2],[57,5,77,3],[58,4,79,2],[58,10,79,8,"joinGroup"],[58,19,79,17],[58,22,79,20],[58,28,79,27,"inviteCode"],[58,38,79,45],[58,42,79,66],[59,6,80,4],[59,12,80,10,"joinedGroup"],[59,23,80,21],[59,26,80,24],[59,32,80,30,"api"],[59,47,80,33],[59,48,80,33,"api"],[59,51,80,33],[59,52,80,34,"joinGroup"],[59,61,80,43],[59,62,80,44,"inviteCode"],[59,72,80,54],[59,73,80,55],[60,6,81,4],[60,12,81,10,"fetchGroups"],[60,23,81,21],[60,24,81,22],[60,25,81,23],[61,6,82,4],[61,13,82,11,"joinedGroup"],[61,24,82,22],[62,4,83,2],[62,5,83,3],[63,4,85,2],[63,10,85,8,"leaveGroup"],[63,20,85,18],[63,23,85,21],[63,29,85,28,"groupId"],[63,36,85,43],[63,40,85,63],[64,6,86,4],[64,12,86,10,"api"],[64,27,86,13],[64,28,86,13,"api"],[64,31,86,13],[64,32,86,14,"leaveGroup"],[64,42,86,24],[64,43,86,25,"groupId"],[64,50,86,32],[64,51,86,33],[65,6,87,4],[65,10,87,8,"selectedGroup"],[65,23,87,21],[65,25,87,23,"id"],[65,27,87,25],[65,32,87,30,"groupId"],[65,39,87,37],[65,41,87,39],[66,8,88,6],[66,14,88,12,"personal"],[66,22,88,20],[66,25,88,23,"groups"],[66,31,88,29],[66,32,88,30,"find"],[66,36,88,34],[66,37,88,35,"g"],[66,38,88,36],[66,42,88,40,"g"],[66,43,88,41],[66,44,88,42,"type"],[66,48,88,46],[66,53,88,51],[66,63,88,61],[66,64,88,62],[67,8,89,6,"setSelectedGroup"],[67,24,89,22],[67,25,89,23,"personal"],[67,33,89,31],[67,37,89,35],[67,41,89,39],[67,42,89,40],[68,6,90,4],[69,6,91,4],[69,12,91,10,"fetchGroups"],[69,23,91,21],[69,24,91,22],[69,25,91,23],[70,4,92,2],[70,5,92,3],[71,4,94,2],[71,10,94,8,"deleteGroup"],[71,21,94,19],[71,24,94,22],[71,30,94,29,"groupId"],[71,37,94,44],[71,41,94,64],[72,6,95,4],[72,12,95,10,"api"],[72,27,95,13],[72,28,95,13,"api"],[72,31,95,13],[72,32,95,14,"deleteGroup"],[72,43,95,25],[72,44,95,26,"groupId"],[72,51,95,33],[72,52,95,34],[73,6,96,4],[73,10,96,8,"selectedGroup"],[73,23,96,21],[73,25,96,23,"id"],[73,27,96,25],[73,32,96,30,"groupId"],[73,39,96,37],[73,41,96,39],[74,8,97,6],[74,14,97,12,"personal"],[74,22,97,20],[74,25,97,23,"groups"],[74,31,97,29],[74,32,97,30,"find"],[74,36,97,34],[74,37,97,35,"g"],[74,38,97,36],[74,42,97,40,"g"],[74,43,97,41],[74,44,97,42,"type"],[74,48,97,46],[74,53,97,51],[74,63,97,61],[74,64,97,62],[75,8,98,6,"setSelectedGroup"],[75,24,98,22],[75,25,98,23,"personal"],[75,33,98,31],[75,37,98,35],[75,41,98,39],[75,42,98,40],[76,6,99,4],[77,6,100,4],[77,12,100,10,"fetchGroups"],[77,23,100,21],[77,24,100,22],[77,25,100,23],[78,4,101,2],[78,5,101,3],[79,4,103,2],[79,10,103,8,"getPersonalGroup"],[79,26,103,24],[79,29,103,27,"getPersonalGroup"],[79,30,103,27],[79,35,103,47],[80,6,104,4],[80,13,104,11,"groups"],[80,19,104,17],[80,20,104,18,"find"],[80,24,104,22],[80,25,104,23,"g"],[80,26,104,24],[80,30,104,28,"g"],[80,31,104,29],[80,32,104,30,"type"],[80,36,104,34],[80,41,104,39],[80,51,104,49],[80,52,104,50],[80,56,104,54],[80,60,104,58],[81,4,105,2],[81,5,105,3],[82,4,107,2],[82,24,108,4],[82,28,108,4,"_reactJsxDevRuntime"],[82,47,108,4],[82,48,108,4,"jsxDEV"],[82,54,108,4],[82,56,108,5,"GroupContext"],[82,68,108,17],[82,69,108,18,"Provider"],[82,77,108,26],[83,6,108,27,"value"],[83,11,108,32],[83,13,108,34],[84,8,109,6,"groups"],[84,14,109,12],[85,8,110,6,"selectedGroup"],[85,21,110,19],[86,8,111,6,"isLoading"],[86,17,111,15],[87,8,112,6,"fetchGroups"],[87,19,112,17],[88,8,113,6,"selectGroup"],[88,19,113,17],[89,8,114,6,"createGroup"],[89,19,114,17],[90,8,115,6,"joinGroup"],[90,17,115,15],[91,8,116,6,"leaveGroup"],[91,18,116,16],[92,8,117,6,"deleteGroup"],[92,19,117,17],[93,8,118,6,"getPersonalGroup"],[94,6,119,4],[94,7,119,6],[95,6,119,6,"children"],[95,14,119,6],[95,16,120,7,"children"],[96,4,120,15],[97,6,120,15,"fileName"],[97,14,120,15],[97,16,120,15,"_jsxFileName"],[97,28,120,15],[98,6,120,15,"lineNumber"],[98,16,120,15],[99,6,120,15,"columnNumber"],[99,18,120,15],[100,4,120,15],[100,11,121,27],[100,12,121,28],[101,2,123,0],[102,2,125,7],[102,11,125,16,"useGroups"],[102,20,125,25,"useGroups"],[102,21,125,25],[102,23,125,28],[103,4,126,2],[103,10,126,8,"context"],[103,17,126,15],[103,20,126,18],[103,24,126,18,"useContext"],[103,30,126,28],[103,31,126,28,"useContext"],[103,41,126,28],[103,43,126,29,"GroupContext"],[103,55,126,41],[103,56,126,42],[104,4,127,2],[104,8,127,6,"context"],[104,15,127,13],[104,20,127,18,"undefined"],[104,29,127,27],[104,31,127,29],[105,6,128,4],[105,12,128,10],[105,16,128,14,"Error"],[105,21,128,19],[105,22,128,20],[105,69,128,67],[105,70,128,68],[106,4,129,2],[107,4,130,2],[107,11,130,9,"context"],[107,18,130,16],[108,2,131,0],[109,0,131,1],[109,3]],"functionMap":{"names":["<global>","GroupProvider","useEffect$argument_0","fetchGroups","data.find$argument_0","selectGroup","createGroup","joinGroup","leaveGroup","groups.find$argument_0","deleteGroup","getPersonalGroup","useGroups"],"mappings":"AAA;OCmC;YCM;GDO;sBEE;mCCQ,mCD;GFQ;sBIE;GJE;sBKE;GLI;oBME;GNI;qBOE;mCCG,0BD;GPI;sBSE;mCDG,0BC;GTI;2BUE;uBFC,0BE;GVC;CDkB;OYE;CZM"},"hasCjsExports":false},"type":"js/module"}]}