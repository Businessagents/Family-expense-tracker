{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@/src/services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":41,"index":131}}],"key":"+0qJ8qEBmOacmbB2+tf55w8DGQI=","exportNames":["*"],"imports":1}},{"name":"./AuthContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":132},"end":{"line":3,"column":40,"index":172}}],"key":"YmpzODa+dVz64UAAYTI+RwJeEt0=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/contexts/GroupContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.GroupProvider = GroupProvider;\n  exports.useGroups = useGroups;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _srcServicesApi = require(_dependencyMap[1], \"@/src/services/api\");\n  var _AuthContext = require(_dependencyMap[2], \"./AuthContext\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const GroupContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function GroupProvider({\n    children\n  }) {\n    const {\n      user,\n      token\n    } = (0, _AuthContext.useAuth)();\n    const [groups, setGroups] = (0, _react.useState)([]);\n    const [selectedGroup, setSelectedGroup] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(false);\n    (0, _react.useEffect)(() => {\n      if (token && user) {\n        fetchGroups();\n      } else {\n        setGroups([]);\n        setSelectedGroup(null);\n      }\n    }, [token, user]);\n    const fetchGroups = async () => {\n      setIsLoading(true);\n      try {\n        const data = await _srcServicesApi.api.getGroups();\n        setGroups(data);\n\n        // Auto-select personal group if no selection\n        if (!selectedGroup && data.length > 0) {\n          const personal = data.find(g => g.type === 'personal');\n          setSelectedGroup(personal || data[0]);\n        }\n      } catch (error) {\n        console.error('Error fetching groups:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const selectGroup = group => {\n      setSelectedGroup(group);\n    };\n    const createGroup = async (name, type = 'shared') => {\n      const newGroup = await _srcServicesApi.api.createGroup(name, type);\n      await fetchGroups();\n      return newGroup;\n    };\n    const joinGroup = async inviteCode => {\n      const joinedGroup = await _srcServicesApi.api.joinGroup(inviteCode);\n      await fetchGroups();\n      return joinedGroup;\n    };\n    const leaveGroup = async groupId => {\n      await _srcServicesApi.api.leaveGroup(groupId);\n      if (selectedGroup?.id === groupId) {\n        const personal = groups.find(g => g.type === 'personal');\n        setSelectedGroup(personal || null);\n      }\n      await fetchGroups();\n    };\n    const deleteGroup = async groupId => {\n      await _srcServicesApi.api.deleteGroup(groupId);\n      if (selectedGroup?.id === groupId) {\n        const personal = groups.find(g => g.type === 'personal');\n        setSelectedGroup(personal || null);\n      }\n      await fetchGroups();\n    };\n    const getPersonalGroup = () => {\n      return groups.find(g => g.type === 'personal') || null;\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(GroupContext.Provider, {\n      value: {\n        groups,\n        selectedGroup,\n        isLoading,\n        fetchGroups,\n        selectGroup,\n        createGroup,\n        joinGroup,\n        leaveGroup,\n        deleteGroup,\n        getPersonalGroup\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 5\n    }, this);\n  }\n  function useGroups() {\n    const context = (0, _react.useContext)(GroupContext);\n    if (context === undefined) {\n      throw new Error('useGroups must be used within a GroupProvider');\n    }\n    return context;\n  }\n});","lineCount":109,"map":[[8,2,35,0,"exports"],[8,9,35,0],[8,10,35,0,"GroupProvider"],[8,23,35,0],[8,26,35,0,"GroupProvider"],[8,39,35,0],[9,2,124,0,"exports"],[9,9,124,0],[9,10,124,0,"useGroups"],[9,19,124,0],[9,22,124,0,"useGroups"],[9,31,124,0],[10,2,1,0],[10,6,1,0,"_react"],[10,12,1,0],[10,15,1,0,"require"],[10,22,1,0],[10,23,1,0,"_dependencyMap"],[10,37,1,0],[11,2,2,0],[11,6,2,0,"_srcServicesApi"],[11,21,2,0],[11,24,2,0,"require"],[11,31,2,0],[11,32,2,0,"_dependencyMap"],[11,46,2,0],[12,2,3,0],[12,6,3,0,"_AuthContext"],[12,18,3,0],[12,21,3,0,"require"],[12,28,3,0],[12,29,3,0,"_dependencyMap"],[12,43,3,0],[13,2,3,40],[13,6,3,40,"_reactJsxDevRuntime"],[13,25,3,40],[13,28,3,40,"require"],[13,35,3,40],[13,36,3,40,"_dependencyMap"],[13,50,3,40],[14,2,33,0],[14,8,33,6,"GroupContext"],[14,20,33,18],[14,36,33,21],[14,40,33,21,"createContext"],[14,46,33,34],[14,47,33,34,"createContext"],[14,60,33,34],[14,62,33,65,"undefined"],[14,71,33,74],[14,72,33,75],[15,2,35,7],[15,11,35,16,"GroupProvider"],[15,24,35,29,"GroupProvider"],[15,25,35,30],[16,4,35,32,"children"],[17,2,35,66],[17,3,35,67],[17,5,35,69],[18,4,36,2],[18,10,36,8],[19,6,36,10,"user"],[19,10,36,14],[20,6,36,16,"token"],[21,4,36,22],[21,5,36,23],[21,8,36,26],[21,12,36,26,"useAuth"],[21,24,36,33],[21,25,36,33,"useAuth"],[21,32,36,33],[21,34,36,34],[21,35,36,35],[22,4,37,2],[22,10,37,8],[22,11,37,9,"groups"],[22,17,37,15],[22,19,37,17,"setGroups"],[22,28,37,26],[22,29,37,27],[22,32,37,30],[22,36,37,30,"useState"],[22,42,37,38],[22,43,37,38,"useState"],[22,51,37,38],[22,53,37,48],[22,55,37,50],[22,56,37,51],[23,4,38,2],[23,10,38,8],[23,11,38,9,"selectedGroup"],[23,24,38,22],[23,26,38,24,"setSelectedGroup"],[23,42,38,40],[23,43,38,41],[23,46,38,44],[23,50,38,44,"useState"],[23,56,38,52],[23,57,38,52,"useState"],[23,65,38,52],[23,67,38,67],[23,71,38,71],[23,72,38,72],[24,4,39,2],[24,10,39,8],[24,11,39,9,"isLoading"],[24,20,39,18],[24,22,39,20,"setIsLoading"],[24,34,39,32],[24,35,39,33],[24,38,39,36],[24,42,39,36,"useState"],[24,48,39,44],[24,49,39,44,"useState"],[24,57,39,44],[24,59,39,45],[24,64,39,50],[24,65,39,51],[25,4,41,2],[25,8,41,2,"useEffect"],[25,14,41,11],[25,15,41,11,"useEffect"],[25,24,41,11],[25,26,41,12],[25,32,41,18],[26,6,42,4],[26,10,42,8,"token"],[26,15,42,13],[26,19,42,17,"user"],[26,23,42,21],[26,25,42,23],[27,8,43,6,"fetchGroups"],[27,19,43,17],[27,20,43,18],[27,21,43,19],[28,6,44,4],[28,7,44,5],[28,13,44,11],[29,8,45,6,"setGroups"],[29,17,45,15],[29,18,45,16],[29,20,45,18],[29,21,45,19],[30,8,46,6,"setSelectedGroup"],[30,24,46,22],[30,25,46,23],[30,29,46,27],[30,30,46,28],[31,6,47,4],[32,4,48,2],[32,5,48,3],[32,7,48,5],[32,8,48,6,"token"],[32,13,48,11],[32,15,48,13,"user"],[32,19,48,17],[32,20,48,18],[32,21,48,19],[33,4,50,2],[33,10,50,8,"fetchGroups"],[33,21,50,19],[33,24,50,22],[33,30,50,22,"fetchGroups"],[33,31,50,22],[33,36,50,34],[34,6,51,4,"setIsLoading"],[34,18,51,16],[34,19,51,17],[34,23,51,21],[34,24,51,22],[35,6,52,4],[35,10,52,8],[36,8,53,6],[36,14,53,12,"data"],[36,18,53,16],[36,21,53,19],[36,27,53,25,"api"],[36,42,53,28],[36,43,53,28,"api"],[36,46,53,28],[36,47,53,29,"getGroups"],[36,56,53,38],[36,57,53,39],[36,58,53,40],[37,8,54,6,"setGroups"],[37,17,54,15],[37,18,54,16,"data"],[37,22,54,20],[37,23,54,21],[39,8,56,6],[40,8,57,6],[40,12,57,10],[40,13,57,11,"selectedGroup"],[40,26,57,24],[40,30,57,28,"data"],[40,34,57,32],[40,35,57,33,"length"],[40,41,57,39],[40,44,57,42],[40,45,57,43],[40,47,57,45],[41,10,58,8],[41,16,58,14,"personal"],[41,24,58,22],[41,27,58,25,"data"],[41,31,58,29],[41,32,58,30,"find"],[41,36,58,34],[41,37,58,36,"g"],[41,38,58,44],[41,42,58,49,"g"],[41,43,58,50],[41,44,58,51,"type"],[41,48,58,55],[41,53,58,60],[41,63,58,70],[41,64,58,71],[42,10,59,8,"setSelectedGroup"],[42,26,59,24],[42,27,59,25,"personal"],[42,35,59,33],[42,39,59,37,"data"],[42,43,59,41],[42,44,59,42],[42,45,59,43],[42,46,59,44],[42,47,59,45],[43,8,60,6],[44,6,61,4],[44,7,61,5],[44,8,61,6],[44,15,61,13,"error"],[44,20,61,18],[44,22,61,20],[45,8,62,6,"console"],[45,15,62,13],[45,16,62,14,"error"],[45,21,62,19],[45,22,62,20],[45,46,62,44],[45,48,62,46,"error"],[45,53,62,51],[45,54,62,52],[46,6,63,4],[46,7,63,5],[46,16,63,14],[47,8,64,6,"setIsLoading"],[47,20,64,18],[47,21,64,19],[47,26,64,24],[47,27,64,25],[48,6,65,4],[49,4,66,2],[49,5,66,3],[50,4,68,2],[50,10,68,8,"selectGroup"],[50,21,68,19],[50,24,68,23,"group"],[50,29,68,42],[50,33,68,47],[51,6,69,4,"setSelectedGroup"],[51,22,69,20],[51,23,69,21,"group"],[51,28,69,26],[51,29,69,27],[52,4,70,2],[52,5,70,3],[53,4,72,2],[53,10,72,8,"createGroup"],[53,21,72,19],[53,24,72,22],[53,30,72,22,"createGroup"],[53,31,72,29,"name"],[53,35,72,41],[53,37,72,43,"type"],[53,41,72,55],[53,44,72,58],[53,52,72,66],[53,57,72,87],[54,6,73,4],[54,12,73,10,"newGroup"],[54,20,73,18],[54,23,73,21],[54,29,73,27,"api"],[54,44,73,30],[54,45,73,30,"api"],[54,48,73,30],[54,49,73,31,"createGroup"],[54,60,73,42],[54,61,73,43,"name"],[54,65,73,47],[54,67,73,49,"type"],[54,71,73,53],[54,72,73,54],[55,6,74,4],[55,12,74,10,"fetchGroups"],[55,23,74,21],[55,24,74,22],[55,25,74,23],[56,6,75,4],[56,13,75,11,"newGroup"],[56,21,75,19],[57,4,76,2],[57,5,76,3],[58,4,78,2],[58,10,78,8,"joinGroup"],[58,19,78,17],[58,22,78,20],[58,28,78,27,"inviteCode"],[58,38,78,45],[58,42,78,66],[59,6,79,4],[59,12,79,10,"joinedGroup"],[59,23,79,21],[59,26,79,24],[59,32,79,30,"api"],[59,47,79,33],[59,48,79,33,"api"],[59,51,79,33],[59,52,79,34,"joinGroup"],[59,61,79,43],[59,62,79,44,"inviteCode"],[59,72,79,54],[59,73,79,55],[60,6,80,4],[60,12,80,10,"fetchGroups"],[60,23,80,21],[60,24,80,22],[60,25,80,23],[61,6,81,4],[61,13,81,11,"joinedGroup"],[61,24,81,22],[62,4,82,2],[62,5,82,3],[63,4,84,2],[63,10,84,8,"leaveGroup"],[63,20,84,18],[63,23,84,21],[63,29,84,28,"groupId"],[63,36,84,43],[63,40,84,63],[64,6,85,4],[64,12,85,10,"api"],[64,27,85,13],[64,28,85,13,"api"],[64,31,85,13],[64,32,85,14,"leaveGroup"],[64,42,85,24],[64,43,85,25,"groupId"],[64,50,85,32],[64,51,85,33],[65,6,86,4],[65,10,86,8,"selectedGroup"],[65,23,86,21],[65,25,86,23,"id"],[65,27,86,25],[65,32,86,30,"groupId"],[65,39,86,37],[65,41,86,39],[66,8,87,6],[66,14,87,12,"personal"],[66,22,87,20],[66,25,87,23,"groups"],[66,31,87,29],[66,32,87,30,"find"],[66,36,87,34],[66,37,87,35,"g"],[66,38,87,36],[66,42,87,40,"g"],[66,43,87,41],[66,44,87,42,"type"],[66,48,87,46],[66,53,87,51],[66,63,87,61],[66,64,87,62],[67,8,88,6,"setSelectedGroup"],[67,24,88,22],[67,25,88,23,"personal"],[67,33,88,31],[67,37,88,35],[67,41,88,39],[67,42,88,40],[68,6,89,4],[69,6,90,4],[69,12,90,10,"fetchGroups"],[69,23,90,21],[69,24,90,22],[69,25,90,23],[70,4,91,2],[70,5,91,3],[71,4,93,2],[71,10,93,8,"deleteGroup"],[71,21,93,19],[71,24,93,22],[71,30,93,29,"groupId"],[71,37,93,44],[71,41,93,64],[72,6,94,4],[72,12,94,10,"api"],[72,27,94,13],[72,28,94,13,"api"],[72,31,94,13],[72,32,94,14,"deleteGroup"],[72,43,94,25],[72,44,94,26,"groupId"],[72,51,94,33],[72,52,94,34],[73,6,95,4],[73,10,95,8,"selectedGroup"],[73,23,95,21],[73,25,95,23,"id"],[73,27,95,25],[73,32,95,30,"groupId"],[73,39,95,37],[73,41,95,39],[74,8,96,6],[74,14,96,12,"personal"],[74,22,96,20],[74,25,96,23,"groups"],[74,31,96,29],[74,32,96,30,"find"],[74,36,96,34],[74,37,96,35,"g"],[74,38,96,36],[74,42,96,40,"g"],[74,43,96,41],[74,44,96,42,"type"],[74,48,96,46],[74,53,96,51],[74,63,96,61],[74,64,96,62],[75,8,97,6,"setSelectedGroup"],[75,24,97,22],[75,25,97,23,"personal"],[75,33,97,31],[75,37,97,35],[75,41,97,39],[75,42,97,40],[76,6,98,4],[77,6,99,4],[77,12,99,10,"fetchGroups"],[77,23,99,21],[77,24,99,22],[77,25,99,23],[78,4,100,2],[78,5,100,3],[79,4,102,2],[79,10,102,8,"getPersonalGroup"],[79,26,102,24],[79,29,102,27,"getPersonalGroup"],[79,30,102,27],[79,35,102,47],[80,6,103,4],[80,13,103,11,"groups"],[80,19,103,17],[80,20,103,18,"find"],[80,24,103,22],[80,25,103,23,"g"],[80,26,103,24],[80,30,103,28,"g"],[80,31,103,29],[80,32,103,30,"type"],[80,36,103,34],[80,41,103,39],[80,51,103,49],[80,52,103,50],[80,56,103,54],[80,60,103,58],[81,4,104,2],[81,5,104,3],[82,4,106,2],[82,24,107,4],[82,28,107,4,"_reactJsxDevRuntime"],[82,47,107,4],[82,48,107,4,"jsxDEV"],[82,54,107,4],[82,56,107,5,"GroupContext"],[82,68,107,17],[82,69,107,18,"Provider"],[82,77,107,26],[83,6,107,27,"value"],[83,11,107,32],[83,13,107,34],[84,8,108,6,"groups"],[84,14,108,12],[85,8,109,6,"selectedGroup"],[85,21,109,19],[86,8,110,6,"isLoading"],[86,17,110,15],[87,8,111,6,"fetchGroups"],[87,19,111,17],[88,8,112,6,"selectGroup"],[88,19,112,17],[89,8,113,6,"createGroup"],[89,19,113,17],[90,8,114,6,"joinGroup"],[90,17,114,15],[91,8,115,6,"leaveGroup"],[91,18,115,16],[92,8,116,6,"deleteGroup"],[92,19,116,17],[93,8,117,6,"getPersonalGroup"],[94,6,118,4],[94,7,118,6],[95,6,118,6,"children"],[95,14,118,6],[95,16,119,7,"children"],[96,4,119,15],[97,6,119,15,"fileName"],[97,14,119,15],[97,16,119,15,"_jsxFileName"],[97,28,119,15],[98,6,119,15,"lineNumber"],[98,16,119,15],[99,6,119,15,"columnNumber"],[99,18,119,15],[100,4,119,15],[100,11,120,27],[100,12,120,28],[101,2,122,0],[102,2,124,7],[102,11,124,16,"useGroups"],[102,20,124,25,"useGroups"],[102,21,124,25],[102,23,124,28],[103,4,125,2],[103,10,125,8,"context"],[103,17,125,15],[103,20,125,18],[103,24,125,18,"useContext"],[103,30,125,28],[103,31,125,28,"useContext"],[103,41,125,28],[103,43,125,29,"GroupContext"],[103,55,125,41],[103,56,125,42],[104,4,126,2],[104,8,126,6,"context"],[104,15,126,13],[104,20,126,18,"undefined"],[104,29,126,27],[104,31,126,29],[105,6,127,4],[105,12,127,10],[105,16,127,14,"Error"],[105,21,127,19],[105,22,127,20],[105,69,127,67],[105,70,127,68],[106,4,128,2],[107,4,129,2],[107,11,129,9,"context"],[107,18,129,16],[108,2,130,0],[109,0,130,1],[109,3]],"functionMap":{"names":["<global>","GroupProvider","useEffect$argument_0","fetchGroups","data.find$argument_0","selectGroup","createGroup","joinGroup","leaveGroup","groups.find$argument_0","deleteGroup","getPersonalGroup","useGroups"],"mappings":"AAA;OCkC;YCM;GDO;sBEE;mCCQ,mCD;GFQ;sBIE;GJE;sBKE;GLI;oBME;GNI;qBOE;mCCG,0BD;GPI;sBSE;mCDG,0BC;GTI;2BUE;uBFC,0BE;GVC;CDkB;OYE;CZM"},"hasCjsExports":false},"type":"js/module"}]}