{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@/src/services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":41,"index":131}}],"key":"+0qJ8qEBmOacmbB2+tf55w8DGQI=","exportNames":["*"],"imports":1}},{"name":"./AuthContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":132},"end":{"line":3,"column":40,"index":172}}],"key":"YmpzODa+dVz64UAAYTI+RwJeEt0=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/contexts/GroupContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.GroupProvider = GroupProvider;\n  exports.useGroups = useGroups;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _srcServicesApi = require(_dependencyMap[1], \"@/src/services/api\");\n  var _AuthContext = require(_dependencyMap[2], \"./AuthContext\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const GroupContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function GroupProvider({\n    children\n  }) {\n    _s();\n    const {\n      user,\n      token\n    } = (0, _AuthContext.useAuth)();\n    const [groups, setGroups] = (0, _react.useState)([]);\n    const [selectedGroup, setSelectedGroup] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(false);\n    (0, _react.useEffect)(() => {\n      if (token && user) {\n        fetchGroups();\n      } else {\n        setGroups([]);\n        setSelectedGroup(null);\n      }\n    }, [token, user]);\n    const fetchGroups = async () => {\n      setIsLoading(true);\n      try {\n        const data = await _srcServicesApi.api.getGroups();\n        setGroups(data);\n\n        // Auto-select personal group if no selection\n        if (!selectedGroup && data.length > 0) {\n          const personal = data.find(g => g.type === 'personal');\n          setSelectedGroup(personal || data[0]);\n        }\n      } catch (error) {\n        console.error('Error fetching groups:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const selectGroup = group => {\n      setSelectedGroup(group);\n    };\n    const createGroup = async (name, type = 'shared') => {\n      const newGroup = await _srcServicesApi.api.createGroup(name, type);\n      await fetchGroups();\n      return newGroup;\n    };\n    const joinGroup = async inviteCode => {\n      const joinedGroup = await _srcServicesApi.api.joinGroup(inviteCode);\n      await fetchGroups();\n      return joinedGroup;\n    };\n    const leaveGroup = async groupId => {\n      await _srcServicesApi.api.leaveGroup(groupId);\n      if (selectedGroup?.id === groupId) {\n        const personal = groups.find(g => g.type === 'personal');\n        setSelectedGroup(personal || null);\n      }\n      await fetchGroups();\n    };\n    const deleteGroup = async groupId => {\n      await _srcServicesApi.api.deleteGroup(groupId);\n      if (selectedGroup?.id === groupId) {\n        const personal = groups.find(g => g.type === 'personal');\n        setSelectedGroup(personal || null);\n      }\n      await fetchGroups();\n    };\n    const getPersonalGroup = () => {\n      return groups.find(g => g.type === 'personal') || null;\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(GroupContext.Provider, {\n      value: {\n        groups,\n        selectedGroup,\n        isLoading,\n        fetchGroups,\n        selectGroup,\n        createGroup,\n        joinGroup,\n        leaveGroup,\n        deleteGroup,\n        getPersonalGroup\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 5\n    }, this);\n  }\n  _s(GroupProvider, \"pFpOXIFSUTIRsF90dL3f5TleYoY=\", false, function () {\n    return [_AuthContext.useAuth];\n  });\n  _c = GroupProvider;\n  function useGroups() {\n    _s2();\n    const context = (0, _react.useContext)(GroupContext);\n    if (context === undefined) {\n      throw new Error('useGroups must be used within a GroupProvider');\n    }\n    return context;\n  }\n  _s2(useGroups, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"GroupProvider\");\n});","lineCount":120,"map":[[10,2,35,0,"exports"],[10,9,35,0],[10,10,35,0,"GroupProvider"],[10,23,35,0],[10,26,35,0,"GroupProvider"],[10,39,35,0],[11,2,124,0,"exports"],[11,9,124,0],[11,10,124,0,"useGroups"],[11,19,124,0],[11,22,124,0,"useGroups"],[11,31,124,0],[12,2,1,0],[12,6,1,0,"_react"],[12,12,1,0],[12,15,1,0,"require"],[12,22,1,0],[12,23,1,0,"_dependencyMap"],[12,37,1,0],[13,2,2,0],[13,6,2,0,"_srcServicesApi"],[13,21,2,0],[13,24,2,0,"require"],[13,31,2,0],[13,32,2,0,"_dependencyMap"],[13,46,2,0],[14,2,3,0],[14,6,3,0,"_AuthContext"],[14,18,3,0],[14,21,3,0,"require"],[14,28,3,0],[14,29,3,0,"_dependencyMap"],[14,43,3,0],[15,2,3,40],[15,6,3,40,"_reactJsxDevRuntime"],[15,25,3,40],[15,28,3,40,"require"],[15,35,3,40],[15,36,3,40,"_dependencyMap"],[15,50,3,40],[16,2,33,0],[16,8,33,6,"GroupContext"],[16,20,33,18],[16,36,33,21],[16,40,33,21,"createContext"],[16,46,33,34],[16,47,33,34,"createContext"],[16,60,33,34],[16,62,33,65,"undefined"],[16,71,33,74],[16,72,33,75],[17,2,35,7],[17,11,35,16,"GroupProvider"],[17,24,35,29,"GroupProvider"],[17,25,35,30],[18,4,35,32,"children"],[19,2,35,66],[19,3,35,67],[19,5,35,69],[20,4,35,69,"_s"],[20,6,35,69],[21,4,36,2],[21,10,36,8],[22,6,36,10,"user"],[22,10,36,14],[23,6,36,16,"token"],[24,4,36,22],[24,5,36,23],[24,8,36,26],[24,12,36,26,"useAuth"],[24,24,36,33],[24,25,36,33,"useAuth"],[24,32,36,33],[24,34,36,34],[24,35,36,35],[25,4,37,2],[25,10,37,8],[25,11,37,9,"groups"],[25,17,37,15],[25,19,37,17,"setGroups"],[25,28,37,26],[25,29,37,27],[25,32,37,30],[25,36,37,30,"useState"],[25,42,37,38],[25,43,37,38,"useState"],[25,51,37,38],[25,53,37,48],[25,55,37,50],[25,56,37,51],[26,4,38,2],[26,10,38,8],[26,11,38,9,"selectedGroup"],[26,24,38,22],[26,26,38,24,"setSelectedGroup"],[26,42,38,40],[26,43,38,41],[26,46,38,44],[26,50,38,44,"useState"],[26,56,38,52],[26,57,38,52,"useState"],[26,65,38,52],[26,67,38,67],[26,71,38,71],[26,72,38,72],[27,4,39,2],[27,10,39,8],[27,11,39,9,"isLoading"],[27,20,39,18],[27,22,39,20,"setIsLoading"],[27,34,39,32],[27,35,39,33],[27,38,39,36],[27,42,39,36,"useState"],[27,48,39,44],[27,49,39,44,"useState"],[27,57,39,44],[27,59,39,45],[27,64,39,50],[27,65,39,51],[28,4,41,2],[28,8,41,2,"useEffect"],[28,14,41,11],[28,15,41,11,"useEffect"],[28,24,41,11],[28,26,41,12],[28,32,41,18],[29,6,42,4],[29,10,42,8,"token"],[29,15,42,13],[29,19,42,17,"user"],[29,23,42,21],[29,25,42,23],[30,8,43,6,"fetchGroups"],[30,19,43,17],[30,20,43,18],[30,21,43,19],[31,6,44,4],[31,7,44,5],[31,13,44,11],[32,8,45,6,"setGroups"],[32,17,45,15],[32,18,45,16],[32,20,45,18],[32,21,45,19],[33,8,46,6,"setSelectedGroup"],[33,24,46,22],[33,25,46,23],[33,29,46,27],[33,30,46,28],[34,6,47,4],[35,4,48,2],[35,5,48,3],[35,7,48,5],[35,8,48,6,"token"],[35,13,48,11],[35,15,48,13,"user"],[35,19,48,17],[35,20,48,18],[35,21,48,19],[36,4,50,2],[36,10,50,8,"fetchGroups"],[36,21,50,19],[36,24,50,22],[36,30,50,22,"fetchGroups"],[36,31,50,22],[36,36,50,34],[37,6,51,4,"setIsLoading"],[37,18,51,16],[37,19,51,17],[37,23,51,21],[37,24,51,22],[38,6,52,4],[38,10,52,8],[39,8,53,6],[39,14,53,12,"data"],[39,18,53,16],[39,21,53,19],[39,27,53,25,"api"],[39,42,53,28],[39,43,53,28,"api"],[39,46,53,28],[39,47,53,29,"getGroups"],[39,56,53,38],[39,57,53,39],[39,58,53,40],[40,8,54,6,"setGroups"],[40,17,54,15],[40,18,54,16,"data"],[40,22,54,20],[40,23,54,21],[42,8,56,6],[43,8,57,6],[43,12,57,10],[43,13,57,11,"selectedGroup"],[43,26,57,24],[43,30,57,28,"data"],[43,34,57,32],[43,35,57,33,"length"],[43,41,57,39],[43,44,57,42],[43,45,57,43],[43,47,57,45],[44,10,58,8],[44,16,58,14,"personal"],[44,24,58,22],[44,27,58,25,"data"],[44,31,58,29],[44,32,58,30,"find"],[44,36,58,34],[44,37,58,36,"g"],[44,38,58,44],[44,42,58,49,"g"],[44,43,58,50],[44,44,58,51,"type"],[44,48,58,55],[44,53,58,60],[44,63,58,70],[44,64,58,71],[45,10,59,8,"setSelectedGroup"],[45,26,59,24],[45,27,59,25,"personal"],[45,35,59,33],[45,39,59,37,"data"],[45,43,59,41],[45,44,59,42],[45,45,59,43],[45,46,59,44],[45,47,59,45],[46,8,60,6],[47,6,61,4],[47,7,61,5],[47,8,61,6],[47,15,61,13,"error"],[47,20,61,18],[47,22,61,20],[48,8,62,6,"console"],[48,15,62,13],[48,16,62,14,"error"],[48,21,62,19],[48,22,62,20],[48,46,62,44],[48,48,62,46,"error"],[48,53,62,51],[48,54,62,52],[49,6,63,4],[49,7,63,5],[49,16,63,14],[50,8,64,6,"setIsLoading"],[50,20,64,18],[50,21,64,19],[50,26,64,24],[50,27,64,25],[51,6,65,4],[52,4,66,2],[52,5,66,3],[53,4,68,2],[53,10,68,8,"selectGroup"],[53,21,68,19],[53,24,68,23,"group"],[53,29,68,42],[53,33,68,47],[54,6,69,4,"setSelectedGroup"],[54,22,69,20],[54,23,69,21,"group"],[54,28,69,26],[54,29,69,27],[55,4,70,2],[55,5,70,3],[56,4,72,2],[56,10,72,8,"createGroup"],[56,21,72,19],[56,24,72,22],[56,30,72,22,"createGroup"],[56,31,72,29,"name"],[56,35,72,41],[56,37,72,43,"type"],[56,41,72,55],[56,44,72,58],[56,52,72,66],[56,57,72,87],[57,6,73,4],[57,12,73,10,"newGroup"],[57,20,73,18],[57,23,73,21],[57,29,73,27,"api"],[57,44,73,30],[57,45,73,30,"api"],[57,48,73,30],[57,49,73,31,"createGroup"],[57,60,73,42],[57,61,73,43,"name"],[57,65,73,47],[57,67,73,49,"type"],[57,71,73,53],[57,72,73,54],[58,6,74,4],[58,12,74,10,"fetchGroups"],[58,23,74,21],[58,24,74,22],[58,25,74,23],[59,6,75,4],[59,13,75,11,"newGroup"],[59,21,75,19],[60,4,76,2],[60,5,76,3],[61,4,78,2],[61,10,78,8,"joinGroup"],[61,19,78,17],[61,22,78,20],[61,28,78,27,"inviteCode"],[61,38,78,45],[61,42,78,66],[62,6,79,4],[62,12,79,10,"joinedGroup"],[62,23,79,21],[62,26,79,24],[62,32,79,30,"api"],[62,47,79,33],[62,48,79,33,"api"],[62,51,79,33],[62,52,79,34,"joinGroup"],[62,61,79,43],[62,62,79,44,"inviteCode"],[62,72,79,54],[62,73,79,55],[63,6,80,4],[63,12,80,10,"fetchGroups"],[63,23,80,21],[63,24,80,22],[63,25,80,23],[64,6,81,4],[64,13,81,11,"joinedGroup"],[64,24,81,22],[65,4,82,2],[65,5,82,3],[66,4,84,2],[66,10,84,8,"leaveGroup"],[66,20,84,18],[66,23,84,21],[66,29,84,28,"groupId"],[66,36,84,43],[66,40,84,63],[67,6,85,4],[67,12,85,10,"api"],[67,27,85,13],[67,28,85,13,"api"],[67,31,85,13],[67,32,85,14,"leaveGroup"],[67,42,85,24],[67,43,85,25,"groupId"],[67,50,85,32],[67,51,85,33],[68,6,86,4],[68,10,86,8,"selectedGroup"],[68,23,86,21],[68,25,86,23,"id"],[68,27,86,25],[68,32,86,30,"groupId"],[68,39,86,37],[68,41,86,39],[69,8,87,6],[69,14,87,12,"personal"],[69,22,87,20],[69,25,87,23,"groups"],[69,31,87,29],[69,32,87,30,"find"],[69,36,87,34],[69,37,87,35,"g"],[69,38,87,36],[69,42,87,40,"g"],[69,43,87,41],[69,44,87,42,"type"],[69,48,87,46],[69,53,87,51],[69,63,87,61],[69,64,87,62],[70,8,88,6,"setSelectedGroup"],[70,24,88,22],[70,25,88,23,"personal"],[70,33,88,31],[70,37,88,35],[70,41,88,39],[70,42,88,40],[71,6,89,4],[72,6,90,4],[72,12,90,10,"fetchGroups"],[72,23,90,21],[72,24,90,22],[72,25,90,23],[73,4,91,2],[73,5,91,3],[74,4,93,2],[74,10,93,8,"deleteGroup"],[74,21,93,19],[74,24,93,22],[74,30,93,29,"groupId"],[74,37,93,44],[74,41,93,64],[75,6,94,4],[75,12,94,10,"api"],[75,27,94,13],[75,28,94,13,"api"],[75,31,94,13],[75,32,94,14,"deleteGroup"],[75,43,94,25],[75,44,94,26,"groupId"],[75,51,94,33],[75,52,94,34],[76,6,95,4],[76,10,95,8,"selectedGroup"],[76,23,95,21],[76,25,95,23,"id"],[76,27,95,25],[76,32,95,30,"groupId"],[76,39,95,37],[76,41,95,39],[77,8,96,6],[77,14,96,12,"personal"],[77,22,96,20],[77,25,96,23,"groups"],[77,31,96,29],[77,32,96,30,"find"],[77,36,96,34],[77,37,96,35,"g"],[77,38,96,36],[77,42,96,40,"g"],[77,43,96,41],[77,44,96,42,"type"],[77,48,96,46],[77,53,96,51],[77,63,96,61],[77,64,96,62],[78,8,97,6,"setSelectedGroup"],[78,24,97,22],[78,25,97,23,"personal"],[78,33,97,31],[78,37,97,35],[78,41,97,39],[78,42,97,40],[79,6,98,4],[80,6,99,4],[80,12,99,10,"fetchGroups"],[80,23,99,21],[80,24,99,22],[80,25,99,23],[81,4,100,2],[81,5,100,3],[82,4,102,2],[82,10,102,8,"getPersonalGroup"],[82,26,102,24],[82,29,102,27,"getPersonalGroup"],[82,30,102,27],[82,35,102,47],[83,6,103,4],[83,13,103,11,"groups"],[83,19,103,17],[83,20,103,18,"find"],[83,24,103,22],[83,25,103,23,"g"],[83,26,103,24],[83,30,103,28,"g"],[83,31,103,29],[83,32,103,30,"type"],[83,36,103,34],[83,41,103,39],[83,51,103,49],[83,52,103,50],[83,56,103,54],[83,60,103,58],[84,4,104,2],[84,5,104,3],[85,4,106,2],[85,24,107,4],[85,28,107,4,"_reactJsxDevRuntime"],[85,47,107,4],[85,48,107,4,"jsxDEV"],[85,54,107,4],[85,56,107,5,"GroupContext"],[85,68,107,17],[85,69,107,18,"Provider"],[85,77,107,26],[86,6,107,27,"value"],[86,11,107,32],[86,13,107,34],[87,8,108,6,"groups"],[87,14,108,12],[88,8,109,6,"selectedGroup"],[88,21,109,19],[89,8,110,6,"isLoading"],[89,17,110,15],[90,8,111,6,"fetchGroups"],[90,19,111,17],[91,8,112,6,"selectGroup"],[91,19,112,17],[92,8,113,6,"createGroup"],[92,19,113,17],[93,8,114,6,"joinGroup"],[93,17,114,15],[94,8,115,6,"leaveGroup"],[94,18,115,16],[95,8,116,6,"deleteGroup"],[95,19,116,17],[96,8,117,6,"getPersonalGroup"],[97,6,118,4],[97,7,118,6],[98,6,118,6,"children"],[98,14,118,6],[98,16,119,7,"children"],[99,4,119,15],[100,6,119,15,"fileName"],[100,14,119,15],[100,16,119,15,"_jsxFileName"],[100,28,119,15],[101,6,119,15,"lineNumber"],[101,16,119,15],[102,6,119,15,"columnNumber"],[102,18,119,15],[103,4,119,15],[103,11,120,27],[103,12,120,28],[104,2,122,0],[105,2,122,1,"_s"],[105,4,122,1],[105,5,35,16,"GroupProvider"],[105,18,35,29],[106,4,35,29],[106,12,36,26,"useAuth"],[106,24,36,33],[106,25,36,33,"useAuth"],[106,32,36,33],[107,2,36,33],[108,2,36,33,"_c"],[108,4,36,33],[108,7,35,16,"GroupProvider"],[108,20,35,29],[109,2,124,7],[109,11,124,16,"useGroups"],[109,20,124,25,"useGroups"],[109,21,124,25],[109,23,124,28],[110,4,124,28,"_s2"],[110,7,124,28],[111,4,125,2],[111,10,125,8,"context"],[111,17,125,15],[111,20,125,18],[111,24,125,18,"useContext"],[111,30,125,28],[111,31,125,28,"useContext"],[111,41,125,28],[111,43,125,29,"GroupContext"],[111,55,125,41],[111,56,125,42],[112,4,126,2],[112,8,126,6,"context"],[112,15,126,13],[112,20,126,18,"undefined"],[112,29,126,27],[112,31,126,29],[113,6,127,4],[113,12,127,10],[113,16,127,14,"Error"],[113,21,127,19],[113,22,127,20],[113,69,127,67],[113,70,127,68],[114,4,128,2],[115,4,129,2],[115,11,129,9,"context"],[115,18,129,16],[116,2,130,0],[117,2,130,1,"_s2"],[117,5,130,1],[117,6,124,16,"useGroups"],[117,15,124,25],[118,2,124,25],[118,6,124,25,"_c"],[118,8,124,25],[119,2,124,25,"$RefreshReg$"],[119,14,124,25],[119,15,124,25,"_c"],[119,17,124,25],[120,0,124,25],[120,3]],"functionMap":{"names":["<global>","GroupProvider","useEffect$argument_0","fetchGroups","data.find$argument_0","selectGroup","createGroup","joinGroup","leaveGroup","groups.find$argument_0","deleteGroup","getPersonalGroup","useGroups"],"mappings":"AAA;OCkC;YCM;GDO;sBEE;mCCQ,mCD;GFQ;sBIE;GJE;sBKE;GLI;oBME;GNI;qBOE;mCCG,0BD;GPI;sBSE;mCDG,0BC;GTI;2BUE;uBFC,0BE;GVC;CDkB;OYE;CZM"},"hasCjsExports":false},"type":"js/module"}]}