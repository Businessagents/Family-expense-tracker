{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@/src/services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":41,"index":131}}],"key":"+0qJ8qEBmOacmbB2+tf55w8DGQI=","exportNames":["*"],"imports":1}},{"name":"./AuthContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":132},"end":{"line":3,"column":40,"index":172}}],"key":"YmpzODa+dVz64UAAYTI+RwJeEt0=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/contexts/GroupContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.GroupProvider = GroupProvider;\n  exports.useGroups = useGroups;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _srcServicesApi = require(_dependencyMap[1], \"@/src/services/api\");\n  var _AuthContext = require(_dependencyMap[2], \"./AuthContext\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const GroupContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function GroupProvider({\n    children\n  }) {\n    _s();\n    const {\n      user,\n      token\n    } = (0, _AuthContext.useAuth)();\n    const [groups, setGroups] = (0, _react.useState)([]);\n    const [selectedGroup, setSelectedGroup] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(false);\n    (0, _react.useEffect)(() => {\n      if (token && user) {\n        fetchGroups();\n      } else {\n        setGroups([]);\n        setSelectedGroup(null);\n      }\n    }, [token, user]);\n    const fetchGroups = async () => {\n      setIsLoading(true);\n      try {\n        const data = await _srcServicesApi.api.getGroups();\n        setGroups(data);\n\n        // Auto-select personal group if no selection\n        if (!selectedGroup && data.length > 0) {\n          const personal = data.find(g => g.type === 'personal');\n          setSelectedGroup(personal || data[0]);\n        }\n      } catch (error) {\n        console.error('Error fetching groups:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const selectGroup = group => {\n      setSelectedGroup(group);\n    };\n    const createGroup = async (name, mode = 'split') => {\n      const newGroup = await _srcServicesApi.api.createGroup(name, 'shared', mode);\n      await fetchGroups();\n      return newGroup;\n    };\n    const joinGroup = async inviteCode => {\n      const joinedGroup = await _srcServicesApi.api.joinGroup(inviteCode);\n      await fetchGroups();\n      return joinedGroup;\n    };\n    const leaveGroup = async groupId => {\n      await _srcServicesApi.api.leaveGroup(groupId);\n      if (selectedGroup?.id === groupId) {\n        const personal = groups.find(g => g.type === 'personal');\n        setSelectedGroup(personal || null);\n      }\n      await fetchGroups();\n    };\n    const deleteGroup = async groupId => {\n      await _srcServicesApi.api.deleteGroup(groupId);\n      if (selectedGroup?.id === groupId) {\n        const personal = groups.find(g => g.type === 'personal');\n        setSelectedGroup(personal || null);\n      }\n      await fetchGroups();\n    };\n    const getPersonalGroup = () => {\n      return groups.find(g => g.type === 'personal') || null;\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(GroupContext.Provider, {\n      value: {\n        groups,\n        selectedGroup,\n        isLoading,\n        fetchGroups,\n        selectGroup,\n        createGroup,\n        joinGroup,\n        leaveGroup,\n        deleteGroup,\n        getPersonalGroup\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 5\n    }, this);\n  }\n  _s(GroupProvider, \"pFpOXIFSUTIRsF90dL3f5TleYoY=\", false, function () {\n    return [_AuthContext.useAuth];\n  });\n  _c = GroupProvider;\n  function useGroups() {\n    _s2();\n    const context = (0, _react.useContext)(GroupContext);\n    if (context === undefined) {\n      throw new Error('useGroups must be used within a GroupProvider');\n    }\n    return context;\n  }\n  _s2(useGroups, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"GroupProvider\");\n});","lineCount":120,"map":[[10,2,36,0,"exports"],[10,9,36,0],[10,10,36,0,"GroupProvider"],[10,23,36,0],[10,26,36,0,"GroupProvider"],[10,39,36,0],[11,2,125,0,"exports"],[11,9,125,0],[11,10,125,0,"useGroups"],[11,19,125,0],[11,22,125,0,"useGroups"],[11,31,125,0],[12,2,1,0],[12,6,1,0,"_react"],[12,12,1,0],[12,15,1,0,"require"],[12,22,1,0],[12,23,1,0,"_dependencyMap"],[12,37,1,0],[13,2,2,0],[13,6,2,0,"_srcServicesApi"],[13,21,2,0],[13,24,2,0,"require"],[13,31,2,0],[13,32,2,0,"_dependencyMap"],[13,46,2,0],[14,2,3,0],[14,6,3,0,"_AuthContext"],[14,18,3,0],[14,21,3,0,"require"],[14,28,3,0],[14,29,3,0,"_dependencyMap"],[14,43,3,0],[15,2,3,40],[15,6,3,40,"_reactJsxDevRuntime"],[15,25,3,40],[15,28,3,40,"require"],[15,35,3,40],[15,36,3,40,"_dependencyMap"],[15,50,3,40],[16,2,34,0],[16,8,34,6,"GroupContext"],[16,20,34,18],[16,36,34,21],[16,40,34,21,"createContext"],[16,46,34,34],[16,47,34,34,"createContext"],[16,60,34,34],[16,62,34,65,"undefined"],[16,71,34,74],[16,72,34,75],[17,2,36,7],[17,11,36,16,"GroupProvider"],[17,24,36,29,"GroupProvider"],[17,25,36,30],[18,4,36,32,"children"],[19,2,36,66],[19,3,36,67],[19,5,36,69],[20,4,36,69,"_s"],[20,6,36,69],[21,4,37,2],[21,10,37,8],[22,6,37,10,"user"],[22,10,37,14],[23,6,37,16,"token"],[24,4,37,22],[24,5,37,23],[24,8,37,26],[24,12,37,26,"useAuth"],[24,24,37,33],[24,25,37,33,"useAuth"],[24,32,37,33],[24,34,37,34],[24,35,37,35],[25,4,38,2],[25,10,38,8],[25,11,38,9,"groups"],[25,17,38,15],[25,19,38,17,"setGroups"],[25,28,38,26],[25,29,38,27],[25,32,38,30],[25,36,38,30,"useState"],[25,42,38,38],[25,43,38,38,"useState"],[25,51,38,38],[25,53,38,48],[25,55,38,50],[25,56,38,51],[26,4,39,2],[26,10,39,8],[26,11,39,9,"selectedGroup"],[26,24,39,22],[26,26,39,24,"setSelectedGroup"],[26,42,39,40],[26,43,39,41],[26,46,39,44],[26,50,39,44,"useState"],[26,56,39,52],[26,57,39,52,"useState"],[26,65,39,52],[26,67,39,67],[26,71,39,71],[26,72,39,72],[27,4,40,2],[27,10,40,8],[27,11,40,9,"isLoading"],[27,20,40,18],[27,22,40,20,"setIsLoading"],[27,34,40,32],[27,35,40,33],[27,38,40,36],[27,42,40,36,"useState"],[27,48,40,44],[27,49,40,44,"useState"],[27,57,40,44],[27,59,40,45],[27,64,40,50],[27,65,40,51],[28,4,42,2],[28,8,42,2,"useEffect"],[28,14,42,11],[28,15,42,11,"useEffect"],[28,24,42,11],[28,26,42,12],[28,32,42,18],[29,6,43,4],[29,10,43,8,"token"],[29,15,43,13],[29,19,43,17,"user"],[29,23,43,21],[29,25,43,23],[30,8,44,6,"fetchGroups"],[30,19,44,17],[30,20,44,18],[30,21,44,19],[31,6,45,4],[31,7,45,5],[31,13,45,11],[32,8,46,6,"setGroups"],[32,17,46,15],[32,18,46,16],[32,20,46,18],[32,21,46,19],[33,8,47,6,"setSelectedGroup"],[33,24,47,22],[33,25,47,23],[33,29,47,27],[33,30,47,28],[34,6,48,4],[35,4,49,2],[35,5,49,3],[35,7,49,5],[35,8,49,6,"token"],[35,13,49,11],[35,15,49,13,"user"],[35,19,49,17],[35,20,49,18],[35,21,49,19],[36,4,51,2],[36,10,51,8,"fetchGroups"],[36,21,51,19],[36,24,51,22],[36,30,51,22,"fetchGroups"],[36,31,51,22],[36,36,51,34],[37,6,52,4,"setIsLoading"],[37,18,52,16],[37,19,52,17],[37,23,52,21],[37,24,52,22],[38,6,53,4],[38,10,53,8],[39,8,54,6],[39,14,54,12,"data"],[39,18,54,16],[39,21,54,19],[39,27,54,25,"api"],[39,42,54,28],[39,43,54,28,"api"],[39,46,54,28],[39,47,54,29,"getGroups"],[39,56,54,38],[39,57,54,39],[39,58,54,40],[40,8,55,6,"setGroups"],[40,17,55,15],[40,18,55,16,"data"],[40,22,55,20],[40,23,55,21],[42,8,57,6],[43,8,58,6],[43,12,58,10],[43,13,58,11,"selectedGroup"],[43,26,58,24],[43,30,58,28,"data"],[43,34,58,32],[43,35,58,33,"length"],[43,41,58,39],[43,44,58,42],[43,45,58,43],[43,47,58,45],[44,10,59,8],[44,16,59,14,"personal"],[44,24,59,22],[44,27,59,25,"data"],[44,31,59,29],[44,32,59,30,"find"],[44,36,59,34],[44,37,59,36,"g"],[44,38,59,44],[44,42,59,49,"g"],[44,43,59,50],[44,44,59,51,"type"],[44,48,59,55],[44,53,59,60],[44,63,59,70],[44,64,59,71],[45,10,60,8,"setSelectedGroup"],[45,26,60,24],[45,27,60,25,"personal"],[45,35,60,33],[45,39,60,37,"data"],[45,43,60,41],[45,44,60,42],[45,45,60,43],[45,46,60,44],[45,47,60,45],[46,8,61,6],[47,6,62,4],[47,7,62,5],[47,8,62,6],[47,15,62,13,"error"],[47,20,62,18],[47,22,62,20],[48,8,63,6,"console"],[48,15,63,13],[48,16,63,14,"error"],[48,21,63,19],[48,22,63,20],[48,46,63,44],[48,48,63,46,"error"],[48,53,63,51],[48,54,63,52],[49,6,64,4],[49,7,64,5],[49,16,64,14],[50,8,65,6,"setIsLoading"],[50,20,65,18],[50,21,65,19],[50,26,65,24],[50,27,65,25],[51,6,66,4],[52,4,67,2],[52,5,67,3],[53,4,69,2],[53,10,69,8,"selectGroup"],[53,21,69,19],[53,24,69,23,"group"],[53,29,69,42],[53,33,69,47],[54,6,70,4,"setSelectedGroup"],[54,22,70,20],[54,23,70,21,"group"],[54,28,70,26],[54,29,70,27],[55,4,71,2],[55,5,71,3],[56,4,73,2],[56,10,73,8,"createGroup"],[56,21,73,19],[56,24,73,22],[56,30,73,22,"createGroup"],[56,31,73,29,"name"],[56,35,73,41],[56,37,73,43,"mode"],[56,41,73,73],[56,44,73,76],[56,51,73,83],[56,56,73,104],[57,6,74,4],[57,12,74,10,"newGroup"],[57,20,74,18],[57,23,74,21],[57,29,74,27,"api"],[57,44,74,30],[57,45,74,30,"api"],[57,48,74,30],[57,49,74,31,"createGroup"],[57,60,74,42],[57,61,74,43,"name"],[57,65,74,47],[57,67,74,49],[57,75,74,57],[57,77,74,59,"mode"],[57,81,74,63],[57,82,74,64],[58,6,75,4],[58,12,75,10,"fetchGroups"],[58,23,75,21],[58,24,75,22],[58,25,75,23],[59,6,76,4],[59,13,76,11,"newGroup"],[59,21,76,19],[60,4,77,2],[60,5,77,3],[61,4,79,2],[61,10,79,8,"joinGroup"],[61,19,79,17],[61,22,79,20],[61,28,79,27,"inviteCode"],[61,38,79,45],[61,42,79,66],[62,6,80,4],[62,12,80,10,"joinedGroup"],[62,23,80,21],[62,26,80,24],[62,32,80,30,"api"],[62,47,80,33],[62,48,80,33,"api"],[62,51,80,33],[62,52,80,34,"joinGroup"],[62,61,80,43],[62,62,80,44,"inviteCode"],[62,72,80,54],[62,73,80,55],[63,6,81,4],[63,12,81,10,"fetchGroups"],[63,23,81,21],[63,24,81,22],[63,25,81,23],[64,6,82,4],[64,13,82,11,"joinedGroup"],[64,24,82,22],[65,4,83,2],[65,5,83,3],[66,4,85,2],[66,10,85,8,"leaveGroup"],[66,20,85,18],[66,23,85,21],[66,29,85,28,"groupId"],[66,36,85,43],[66,40,85,63],[67,6,86,4],[67,12,86,10,"api"],[67,27,86,13],[67,28,86,13,"api"],[67,31,86,13],[67,32,86,14,"leaveGroup"],[67,42,86,24],[67,43,86,25,"groupId"],[67,50,86,32],[67,51,86,33],[68,6,87,4],[68,10,87,8,"selectedGroup"],[68,23,87,21],[68,25,87,23,"id"],[68,27,87,25],[68,32,87,30,"groupId"],[68,39,87,37],[68,41,87,39],[69,8,88,6],[69,14,88,12,"personal"],[69,22,88,20],[69,25,88,23,"groups"],[69,31,88,29],[69,32,88,30,"find"],[69,36,88,34],[69,37,88,35,"g"],[69,38,88,36],[69,42,88,40,"g"],[69,43,88,41],[69,44,88,42,"type"],[69,48,88,46],[69,53,88,51],[69,63,88,61],[69,64,88,62],[70,8,89,6,"setSelectedGroup"],[70,24,89,22],[70,25,89,23,"personal"],[70,33,89,31],[70,37,89,35],[70,41,89,39],[70,42,89,40],[71,6,90,4],[72,6,91,4],[72,12,91,10,"fetchGroups"],[72,23,91,21],[72,24,91,22],[72,25,91,23],[73,4,92,2],[73,5,92,3],[74,4,94,2],[74,10,94,8,"deleteGroup"],[74,21,94,19],[74,24,94,22],[74,30,94,29,"groupId"],[74,37,94,44],[74,41,94,64],[75,6,95,4],[75,12,95,10,"api"],[75,27,95,13],[75,28,95,13,"api"],[75,31,95,13],[75,32,95,14,"deleteGroup"],[75,43,95,25],[75,44,95,26,"groupId"],[75,51,95,33],[75,52,95,34],[76,6,96,4],[76,10,96,8,"selectedGroup"],[76,23,96,21],[76,25,96,23,"id"],[76,27,96,25],[76,32,96,30,"groupId"],[76,39,96,37],[76,41,96,39],[77,8,97,6],[77,14,97,12,"personal"],[77,22,97,20],[77,25,97,23,"groups"],[77,31,97,29],[77,32,97,30,"find"],[77,36,97,34],[77,37,97,35,"g"],[77,38,97,36],[77,42,97,40,"g"],[77,43,97,41],[77,44,97,42,"type"],[77,48,97,46],[77,53,97,51],[77,63,97,61],[77,64,97,62],[78,8,98,6,"setSelectedGroup"],[78,24,98,22],[78,25,98,23,"personal"],[78,33,98,31],[78,37,98,35],[78,41,98,39],[78,42,98,40],[79,6,99,4],[80,6,100,4],[80,12,100,10,"fetchGroups"],[80,23,100,21],[80,24,100,22],[80,25,100,23],[81,4,101,2],[81,5,101,3],[82,4,103,2],[82,10,103,8,"getPersonalGroup"],[82,26,103,24],[82,29,103,27,"getPersonalGroup"],[82,30,103,27],[82,35,103,47],[83,6,104,4],[83,13,104,11,"groups"],[83,19,104,17],[83,20,104,18,"find"],[83,24,104,22],[83,25,104,23,"g"],[83,26,104,24],[83,30,104,28,"g"],[83,31,104,29],[83,32,104,30,"type"],[83,36,104,34],[83,41,104,39],[83,51,104,49],[83,52,104,50],[83,56,104,54],[83,60,104,58],[84,4,105,2],[84,5,105,3],[85,4,107,2],[85,24,108,4],[85,28,108,4,"_reactJsxDevRuntime"],[85,47,108,4],[85,48,108,4,"jsxDEV"],[85,54,108,4],[85,56,108,5,"GroupContext"],[85,68,108,17],[85,69,108,18,"Provider"],[85,77,108,26],[86,6,108,27,"value"],[86,11,108,32],[86,13,108,34],[87,8,109,6,"groups"],[87,14,109,12],[88,8,110,6,"selectedGroup"],[88,21,110,19],[89,8,111,6,"isLoading"],[89,17,111,15],[90,8,112,6,"fetchGroups"],[90,19,112,17],[91,8,113,6,"selectGroup"],[91,19,113,17],[92,8,114,6,"createGroup"],[92,19,114,17],[93,8,115,6,"joinGroup"],[93,17,115,15],[94,8,116,6,"leaveGroup"],[94,18,116,16],[95,8,117,6,"deleteGroup"],[95,19,117,17],[96,8,118,6,"getPersonalGroup"],[97,6,119,4],[97,7,119,6],[98,6,119,6,"children"],[98,14,119,6],[98,16,120,7,"children"],[99,4,120,15],[100,6,120,15,"fileName"],[100,14,120,15],[100,16,120,15,"_jsxFileName"],[100,28,120,15],[101,6,120,15,"lineNumber"],[101,16,120,15],[102,6,120,15,"columnNumber"],[102,18,120,15],[103,4,120,15],[103,11,121,27],[103,12,121,28],[104,2,123,0],[105,2,123,1,"_s"],[105,4,123,1],[105,5,36,16,"GroupProvider"],[105,18,36,29],[106,4,36,29],[106,12,37,26,"useAuth"],[106,24,37,33],[106,25,37,33,"useAuth"],[106,32,37,33],[107,2,37,33],[108,2,37,33,"_c"],[108,4,37,33],[108,7,36,16,"GroupProvider"],[108,20,36,29],[109,2,125,7],[109,11,125,16,"useGroups"],[109,20,125,25,"useGroups"],[109,21,125,25],[109,23,125,28],[110,4,125,28,"_s2"],[110,7,125,28],[111,4,126,2],[111,10,126,8,"context"],[111,17,126,15],[111,20,126,18],[111,24,126,18,"useContext"],[111,30,126,28],[111,31,126,28,"useContext"],[111,41,126,28],[111,43,126,29,"GroupContext"],[111,55,126,41],[111,56,126,42],[112,4,127,2],[112,8,127,6,"context"],[112,15,127,13],[112,20,127,18,"undefined"],[112,29,127,27],[112,31,127,29],[113,6,128,4],[113,12,128,10],[113,16,128,14,"Error"],[113,21,128,19],[113,22,128,20],[113,69,128,67],[113,70,128,68],[114,4,129,2],[115,4,130,2],[115,11,130,9,"context"],[115,18,130,16],[116,2,131,0],[117,2,131,1,"_s2"],[117,5,131,1],[117,6,125,16,"useGroups"],[117,15,125,25],[118,2,125,25],[118,6,125,25,"_c"],[118,8,125,25],[119,2,125,25,"$RefreshReg$"],[119,14,125,25],[119,15,125,25,"_c"],[119,17,125,25],[120,0,125,25],[120,3]],"functionMap":{"names":["<global>","GroupProvider","useEffect$argument_0","fetchGroups","data.find$argument_0","selectGroup","createGroup","joinGroup","leaveGroup","groups.find$argument_0","deleteGroup","getPersonalGroup","useGroups"],"mappings":"AAA;OCmC;YCM;GDO;sBEE;mCCQ,mCD;GFQ;sBIE;GJE;sBKE;GLI;oBME;GNI;qBOE;mCCG,0BD;GPI;sBSE;mCDG,0BC;GTI;2BUE;uBFC,0BE;GVC;CDkB;OYE;CZM"},"hasCjsExports":false},"type":"js/module"}]}